<html ng-app="BridgeExample">
    <head>
        <title>Lungo Angular Bridge Example</title>

        <link rel="stylesheet" type="text/css" href="../../components/lungo/lungo.css"/>
        <link rel="stylesheet" type="text/css" href="../../components/lungo/lungo.icon.css"/>
        <link rel="stylesheet" type="text/css" href="../../components/lungo/theme.lungo.css">
        <script type="text/javascript" src="../../components/quojs/quo.debug.js"></script>
        <script type="text/javascript" src="../../components/lungo/lungo.js"></script>

        <script>
            Lungo.Router.section = (function() {
                var originalFn = Lungo.Router.section;
                var sectionCallCount = 0;
                return function(sectionId) {
                    document.getElementById('lungo-router-section').text = sectionCallCount;
                    sectionCallCount++;
                    originalFn(sectionId);
                }
            })();
        </script>
        <call-count id='lungo-router-section'></call-count>
    </head>

    <body>
        <section id="main" data-transition="slide">
            <header ng-controller="AppCtrl">
                <nav class="left">
                    <a href="#aside1" data-icon="menu" data-router="aside"></a>
                    <a ng-click='refreshApplication()' data-icon="refresh"></a>
                    Hello, {{name}}
                </nav>
                <nav class="right">
                    
                    <a href="section1">Section 1</a>
                </nav>
            </header>
            <article id="something" class="active">
                <p>
                    This is the first article that will appear.
                </p>
                <p>
                    This article has to be here, it's not (yet) clear why.
                </p>
                <p>
                    <a href="dynamic">Click here to go to the dynamically loaded section</a>
                </p>
                <p>
                    <a href="search?term=centralway">Click here to perform a simple search with parameter 'centralway'</a>
                </p>
                <p>
                    <a href="person/view/2">Click to view person 2</a><br/>
                    <a href="person/view/3">Click to view person 3</a>
                </p>
                <p>
                    Test of directives using Lungo data-* attributes: <directive-and-lungo-test></directive-and-lungo-test>
                </p>
            </article>
        </section>

        <section id="section1" data-transition="slide">
            <header>
                <nav class="left"><a href="/">Home</a></nav>
            </header>
            <article class="active">
                <p>Section 1</p>
            </article>
        </section>

        <aside id="aside1">
            <header data-title="As an aside"></header>
            <article class="active list scroll">
                <ul>
                    <li><a href="/section1"><strong>Section 1</strong></a></li>
                    <li><a href="/dynamic"><strong>Dynamic</strong></a></li>
                </ul>
            </article>
        </aside>

        <!-- The CW-Routing does not yet work. See AppCtrl -->
        <!-- <cw-routing></cw-routing> -->
        <cw-view></cw-view>

        <script type="text/javascript" src="../../components/angular/angular.js"></script>
        <script type="text/javascript" src="../../src/lungo-angular-bridge.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/controllers.js"></script>
        <script type="text/javascript" src="js/services.js"></script>
        <script type="text/javascript" src="js/filters.js"></script>
        <script type="text/javascript" src="js/directives.js"></script>

        <script type="text/javascript">
            Lungo.init({
                data    : 'Lungo Angular Bridge',
                version : '0.0.1'
            });
        </script>
    </body>

</html>
